var Light=(()=>{var e=Object.defineProperty,t=Object.getOwnPropertyDescriptor,r=Object.getOwnPropertyNames,i=Object.prototype.hasOwnProperty,n=(t,r,i)=>(((t,r,i)=>{r in t?e(t,r,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[r]=i})(t,"symbol"!=typeof r?r+"":r,i),i),s=(e,t,r)=>new Promise(((i,n)=>{var s=e=>{try{l(r.next(e))}catch(e){n(e)}},a=e=>{try{l(r.throw(e))}catch(e){n(e)}},l=e=>e.done?i(e.value):Promise.resolve(e.value).then(s,a);l((r=r.apply(e,t)).next())})),a={};((t,r)=>{for(var i in r)e(t,i,{get:r[i],enumerable:!0})})(a,{Light:()=>F});var l="v0.2",c="2024/04/30 13:31",o="https://github.com/LmanTW/Light-Framework";function h(e,t){if(void 0!==t.type){const r=Array.isArray(e)?"array":typeof e;if(!t.type.includes(r))return{error:!0,type:"type"}}return void 0===t.value||t.value.includes(e)?void 0===t.instanceOf||e instanceof t.instanceOf.instance?{error:!1}:{error:!0,type:"instanceOf"}:{error:!0,type:"value"}}var u={checkParameters:(e,t)=>{Object.keys(t).forEach((r=>{if(void 0===e[r])throw new Error(`Cannot Found Condition For "${r}"`);const i=h(t[r],e[r]);if(i.error){if("type"===i.type)throw new Error(`Parameter "${r}" Must Be ${e[r].type.length>1?e[r].type.map((e=>`<${e}>`)).join(" Or "):`A <${e[r].type[0]}>`}`);if("value"===i.type)throw new Error(`Parameter "${r}" Must Be ${e[r].value.join(" Or ")}`);if("instanceOf"===i.type)throw new Error(`Parameter "${r}" Must Be An Instance Of <${e[r].instanceOf.name}>`)}}))},checkObject:(e,t,r)=>{Object.keys(t).forEach((i=>{const n=h(r[i],t[i]);if(n.error){if("type"===n.type)throw new Error(`Value "${i}" In "${e}" Must Be ${t[i].type.length>1?t[i].type.map((e=>`<${e}>`)).join(" Or "):`A <${t[i].type[0]}>`}`);if("value"===n.type)throw new Error(`Value "${i}" In "${e}" Must Be ${t[i].value.join(" Or ")}`);if("instanceOf"===n.type)throw new Error(`Value "${i}" In ${e} Must Be An Instance Of <${t[i].instanceOf.name}>`)}}))},generateID:(e,t)=>{let r=0;for(;t.includes(r.toString().padStart(e,"0"));)r++;return r.toString().padStart(e,"0")}},m=class{constructor(e){n(this,"_Core"),n(this,"_attributes",{}),this._Core=e}createAttribute(e,t,r){if(u.checkParameters({name:{type:["string"]},callback:{type:["function"]},update:{type:["undefined","boolean"]}},{name:e,callback:t,update:r}),void 0!==this._attributes[e])throw new Error(`Attribute Already Exist: "${e}"`);this._attributes[e]=t,r&&this._Core.Observer.checkChildren(this._Core.element)}deleteAttribute(e,t){if(u.checkParameters({name:{type:["string"]},update:{type:["undefined","boolean"]}},{name:e,update:t}),void 0===this._attributes[e])throw new Error(`Attribute Not Found: "${e}"`);delete this._attributes[e],t&&this._Core.Observer.checkChildren(this._Core.element)}getAttribute(e){return u.checkParameters({name:{type:["string"]}},{name:e}),"light:"===e.substring(0,6)?this._attributes[e.substring(6,e.length)]:void 0}},g=class{constructor(){n(this,"_listeners",{})}listen(e,t,r,i){u.checkParameters({name:{type:["string"]},callback:{type:["function"]}},{name:t,callback:r}),void 0===i&&(i={});const n=u.generateID(5,Object.keys(this._listeners)),s=(...e)=>{i.once&&this.removeListener(n),r(...e)};return this._listeners[n]={target:e,name:t,callback:s,tag:i.tag},e.addEventListener(t,s,i),n}removeListener(e){if(u.checkParameters({id:{type:["string"]}},{id:e}),void 0===this._listeners[e])throw new Error(`Listener Not Found: "${e}"`);this._listeners[e].target.removeEventListener(this._listeners[e].name,this._listeners[e].callback)}removeAllListeners(){Object.keys(this._listeners).forEach((e=>this.removeListener(e)))}findListeners(e,t){const r=[];return Object.keys(this._listeners).forEach((i=>{this._listeners[i].target!==e||void 0!==t.name&&this._listeners[i].name!==t.name||void 0!==t.tag||this._listeners[i].tag!==t.tag||r.push(i)})),r}},d=class{constructor(){n(this,"_interval"),n(this,"_timers",{})}createTimeout(e,t){u.checkParameters({ms:{type:["number"]},callback:{type:["function"]}},{ms:e,callback:t});const r=u.generateID(5,Object.keys(this._timers));return this._timers[r]={times:1,interval:e,callback2:t,count:0,lastUpdateTime:performance.now()},void 0===this._interval&&this._start(),r}createInterval(e,t){u.checkParameters({interval:{type:["number"]},callback:{type:["function"]}},{interval:e,callback:t});const r=u.generateID(5,Object.keys(this._timers));return this._timers[r]={times:1/0,interval:e,callback:t,count:0,lastUpdateTime:performance.now()},void 0===this._interval&&this._start(),r}createLoop(e,t,r,i){u.checkParameters({times:{type:["number"]},interval:{type:["number"]},callback:{type:["function"]},callback2:{type:["undefined","function"]}},{times:e,interval:t,callback:r,callback2:i});const n=u.generateID(5,Object.keys(this._timers));return this._timers[n]={times:e,interval:t,callback:r,callback2:i,count:0,lastUpdateTime:performance.now()},void 0===this._interval&&this._start(),n}deleteTimer(e){if(u.checkParameters({id:{type:["string"]}},{id:e}),void 0===this._timers[e])throw new Error(`Timer Not Found: "${e}"`);delete this._timers[e]}deleteAllTimers(){Object.keys(this._timers).forEach((e=>this.deleteTimer(e)))}_start(){this._interval=setInterval((()=>{const e=performance.now();Object.keys(this._timers).forEach((t=>{const r=this._timers[t];void 0!==r&&e-r.lastUpdateTime>=r.interval&&(void 0!==r.callback&&r.callback(r.count),r.lastUpdateTime=e,r.times!==1/0&&(r.count++,r.count===r.times&&(void 0!==r.callback2&&r.callback2(),delete this._timers[t])))}))}),1)}},y=class{static createStyle(e,t,r){u.checkParameters({style:{type:["string"]},type:{type:["string"]},idFormat:{type:["string"]}},{style:e,type:t,idFormat:r}),void 0===p[t]&&(p[t]={idFormat:r,styles:{}});for(let r of Object.keys(p[t].styles))if(p[t].styles[r]===e)return`${t}-${r}`;const i=u.generateID(5,Object.keys(p[t].styles));return p[t].styles[i]=e,this.updateStyles(),`${t}-${i}`}static updateStyles(){const e=[];Object.keys(p).forEach((t=>{Object.keys(p[t].styles).forEach((r=>e.push(`.${p[t].idFormat.replace("<id>",r)} {${p[t].styles[r]}}`)))})),b.textContent=e.join("\n")}},b=document.head.appendChild(document.createElement("style")),p={},f=class{constructor(e){n(this,"_Core"),n(this,"_units",{}),this._Core=e}createUnit(e,t,r){if(u.checkParameters({name:{type:["string"]},callback:{type:["function"]},update:{type:["undefined","boolean"]}},{name:e,callback:t,update:r}),void 0!==this._units[e])throw new Error(`Unit Already Exist: "${e}"`);this._units[e]=t,r&&this._Core.Observer.checkChildren(this._Core.element)}deleteUnit(e,t){if(u.checkParameters({name:{type:["string"]},update:{type:["undefined","boolean"]}},{name:e,update:t}),void 0===this._units[e])throw new Error(`Unit Not Found: "${e}"`);delete this._units[e],t&&this._Core.Observer.checkChildren(this._Core.element)}parseStyleValue(e){if(e.includes("[")&&e.includes("]")){const t=Object.keys(this._units).sort(((e,t)=>t.length-e.length));let r,i="";for(let n=0;n<e.length;n++)if("["===e[n])r="";else if("]"===e[n]){if("$"===r[0])i+=`var(--${r.substring(1,r.length)})`;else for(let e of t){const t=r.substring(r.length-e.length,r.length);if(t===e){i+=this._units[t](r.substring(0,r.length-e.length));break}}r=void 0}else void 0===r?i+=e[n]:r+=e[n];return i}return e}};function v(e,t,r){u.checkParameters({tagName:{type:["string"]},attributes:{type:["undefined","object"]},children:{type:["undefined","array"]}},{tagName:e,attributes:t,children:r});const i="svg"===e?document.createElementNS("http://www.w3.org/2000/svg","svg"):document.createElement(e);return void 0!==t&&Object.keys(t).forEach((e=>{"innerHTML"===e?i.innerHTML=t[e]:i.setAttribute(e,t[e])})),void 0!==r&&r.forEach((e=>i.appendChild(e))),i}function _(e,t,r){u.checkParameters({src:{type:["string"]},attributes:{type:["object"]}},{src:e,attributes:t});const i=v("div",t);return void 0===r&&!1===r?(fetch(e).then((e=>s(this,null,(function*(){return i.innerHTML=yield e.text()})))),i):new Promise((t=>s(this,null,(function*(){i.innerHTML=yield(yield fetch(e)).text(),t(i)}))))}var k=class{constructor(e){n(this,"_Core"),n(this,"observer"),this._Core=e,this.observer=new MutationObserver((t=>{t.forEach((t=>{M.getComponentFromParent(t.target)===e.id&&("childList"===t.type?Array.from(t.addedNodes).forEach((e=>{void 0!==e.tagName&&this.checkChildren(e)})):"attributes"===t.type&&this.checkAttributes(t.target,t.attributeName))}))})),this.observer.observe(e.element,{subtree:!0,childList:!0,attributes:!0})}checkChildren(e){void 0!==e.tagName&&(this.checkAttributes(e),Array.from(e.children).forEach((e=>{void 0!==e.tagName&&null===e.getAttribute("light")&&this.checkChildren(e)})))}checkAttributes(e,t){if(u.checkParameters({attributeName:{type:["undefined","string"]}},{attributeName:t}),void 0!==e.tagName)if(void 0===t)e.getAttributeNames().forEach((t=>{const r=this._Core.AttributeManager.getAttribute(t);void 0!==r&&r(e,e.getAttribute(t))}));else{const r=this._Core.AttributeManager.getAttribute(t);void 0!==r&&r(e,e.getAttribute(t))}}},A=class{constructor(e,t,r){n(this,"_id"),n(this,"_element"),n(this,"_API"),n(this,"data"),n(this,"ListenerManager"),n(this,"TimerManager"),n(this,"AttributeManager"),n(this,"UnitManager"),n(this,"Observer"),n(this,"PluginManager",P),n(this,"ComponentManager",M),n(this,"StyleManager",y),u.checkParameters({API:{instanceOf:{instance:F,name:"Light"}},element:{instanceOf:{instance:HTMLElement,name:"HTMLElement"}}},{API:e,element:t}),this._id=M.registerComponent(this),this._element=t,this._API=e,this.data=r,this.ListenerManager=new g,this.TimerManager=new d,this.AttributeManager=new m(this),this.UnitManager=new f(this),this.Observer=new k(this),t.setAttribute("light",this._id),P.initializePlugins(this),this.Observer.checkChildren(this._element)}get id(){return this._id}get element(){return this._element}getElementByID(e){return u.checkParameters({id:{type:["string"]}},{id:e}),C(this._element,(t=>t.id===e),1)[0]}getElementsByClassName(e){return u.checkParameters({className:{type:["string"]}},{className:e}),C(this._element,(t=>Array.from(t.classList).includes(e)),1/0)}getElementsByTagName(e){return u.checkParameters({tagName:{type:["string"]}},{tagName:e}),C(this._element,(t=>t.tagName===e),1/0)}getAllElements(){return C(this._element,(()=>!0),1/0)}load(e,t){u.checkParameters({html:{type:["string"]},componentPath:{type:["undefined","string"]}},{html:e,componentPath:t}),E(this._element),this.ListenerManager.removeAllListeners(),this.TimerManager.deleteAllTimers();const r=v("div",{innerHTML:e}),i=C(r,(e=>"script"===e.localName),1/0).map((e=>(e.remove(),{type:e.getAttribute("type"),content:e.innerHTML})));this._element.innerHTML=r.innerHTML,i.forEach((e=>{"module"===e.type?new Function("Light","Component","Import",`(async()=>{${e.content}})()`)(F,this._API,(e=>s(this,null,(function*(){if(void 0!==t&&"."===e[0]){const r=t.split("/");e.split("/").forEach((e=>{"."===e?r.splice(r.length-1,1):".."===e?r.splice(r.length-2,2):r.push(e)})),e=r.join("/")}return yield import(e)})))):new Function("Light","Component",e.content)(F,this._API)}))}remove(){E(this._element),this.ListenerManager.removeAllListeners(),this.TimerManager.deleteAllTimers(),this.Observer.observer.disconnect(),M.unregisterComponent(this._id),this._id=void 0,this._element.setAttribute("light",null)}};function C(e,t,r){let i=[];for(const n of Array.from(e.children))if(t(n)&&i.push(n),i=i.concat(C(n,t,r-i.length)),i.length>=r)break;return i}function E(e){Array.from(e.children).forEach((e=>{null!==e.getAttribute("light")?M.getComponent(e.getAttribute("light")).remove():E(e)}))}var M=class{static registerComponent(e){u.checkParameters({Core:{instanceOf:{instance:A,name:"Core"}}},{Core:e});const t=u.generateID(5,Object.keys(w));return w[t]=e,t}static unregisterComponent(e){if(u.checkParameters({id:{type:["string"]}},{id:e}),void 0===w[e])throw new Error(`Component Not Found: "${e}"`);delete w[e]}static getComponent(e){return u.checkParameters({id:{type:["string"]}},{id:e}),w[e]}static getComponentFromParent(e){u.checkParameters({element:{instanceOf:{instance:HTMLElement,name:"HTMLElement"}}},{element:e});const t=e.getAttribute("light");return null!==t?t:null!==e.parentElement?this.getComponentFromParent(e.parentElement):void 0}},w={},P=class{static get plugin(){return Object.keys(O)}static addPlugin(e){if(u.checkParameters({Plugin:{type:["object"]}},{Plugin:e}),void 0!==O[e.id])throw new Error(`Plugin Is Already Added: "${e.id}"`);O[e.id]=e,void 0!==e.register&&e.register(F,{PluginManager:this,ComponentManager:M,Tools:u})}static removePlugin(e){if(u.checkParameters({id:{type:["string"]}},{id:e}),void 0===O[e])throw new Error(`Plugin Not Found: "${e}"`);delete O[e]}static initializePlugins(e){u.checkParameters({Core:{instanceOf:{instance:A,name:"Core"}}},{Core:e}),Object.keys(O).forEach((t=>{void 0!==O[t].init&&O[t].init(e)}))}},O={};function L(e){return T(e),Object.keys(e).map((t=>{let r="";for(let e=0;e<t.length;e++)j.includes(t[e])?r+=`-${t[e].toLowerCase()}`:r+=t[e];return`${r}:${e[t]}`})).join(";")}function T(e){if(void 0!==e.center){const t=e.center.split(" ");(t.includes("row")||t.includes("all"))&&("column"===e.flexDirection?e.alignItems="center":e.justifyContent="center"),(t.includes("column")||t.includes("all"))&&("column"===e.flexDirection?e.justifyContent="center":e.alignItems="center"),delete e.center}return e}function $(e){const t={};return e.split(";").forEach((e=>{if(e.length>0){const[r,i]=e.split(":");t[r.trim()]=i.trim()}})),t}var j="ABCDEFGHIJKLMNOPQRSTUVWXYZ";function N(e,t){let r=e.getAttribute("class");const i=null===r?[]:r.split(" ");i.includes(t)||i.push(t),e.setAttribute("class",i.join(" "))}var I={id:"Default",register:(e,t)=>{class r extends HTMLElement{constructor(){super()}connectedCallback(){return s(this,null,(function*(){void 0===S[this.getAttribute("src")]&&(S[this.getAttribute("src")]=yield(yield fetch(this.getAttribute("src"))).text());const e=v("div",{innerHTML:S[this.getAttribute("src")]});this.getAttributeNames().forEach((t=>e.setAttribute(t,this.getAttribute(t)))),this.replaceWith(e)}))}}void 0===customElements.get("light-svg")&&customElements.define("light-svg",r)},init:e=>{e.AttributeManager.createAttribute("style",((t,r)=>{const i=T($(e.UnitManager.parseStyleValue(r))),n={};Object.keys(i).forEach((e=>{["transition","transitionDuration"].includes(e)&&(n[e]=i[e],delete i[e])}));const s=Array.from(t.classList).filter((e=>!e.includes("style-")));s.length>0?t.setAttribute("class",s.join(" ")):t.removeAttribute("class"),N(t,e.StyleManager.createStyle(L(i),"style","style-<id>")),window.requestAnimationFrame((()=>Object.keys(n).forEach((e=>t.style[e]=n[e]))))})),e.AttributeManager.createAttribute("style:hover",((t,r)=>N(t,e.StyleManager.createStyle(e.UnitManager.parseStyleValue(r),"hover","hover-<id>:hover")))),e.AttributeManager.createAttribute("style:hold",((t,r)=>N(t,e.StyleManager.createStyle(e.UnitManager.parseStyleValue(r),"hold","hold-<id>:active:hover")))),e.AttributeManager.createAttribute("trigger",((e,t)=>{null===e.getAttribute("light:trigger-set")&&(e.innerHTML=v("a",{innerHTML:e.innerHTML,href:t,target:"_blank",style:L({all:"unset"})}).outerHTML,e.setAttribute("light:trigger-set","true"))})),e.AttributeManager.createAttribute("url",((t,r)=>{if(null===t.getAttribute("light:url-set")){const i=v("a",{innerHTML:t.innerHTML,href:r,style:L({all:"unset"})});for(;t.firstChild;)t.firstChild.remove();t.appendChild(i),e.ListenerManager.listen(i,"click",(e=>e.preventDefault())),t.setAttribute("light:url-set","true")}})),e.UnitManager.createUnit("ps",(e=>`calc(calc(1vw + 1vh) * ${e})`))}},S={};console.log(`[ Light-Framework ]\n\n  Version: ${l}\n  Build: ${c}\n\n  Github: ${o}`);var H,F=class{constructor(e,t){n(this,"_Core"),n(this,"ListenerManager"),n(this,"TimerManager"),this._Core=new A(this,e,t),this.ListenerManager=this._Core.ListenerManager,this.TimerManager=this._Core.TimerManager}static get use(){return P.addPlugin}static get createElement(){return v}static get createSvgElement(){return _}static get createStyle(){return L}static setStyle(e,t,r){u.checkParameters({element:{instanceOf:{instance:HTMLElement,name:"HTMlElement"}},name:{type:["string"]},value:{type:["number","string"]}},{element:e,name:t,value:r});const i=null===e.getAttribute("light:style")?{}:$(e.getAttribute("light:style"));i[t]=r.toString(),e.setAttribute("light:style",L(i))}get id(){return this._Core.id}get data(){return this._Core.data}get element(){return this._Core.element}set data(e){this._Core.data=e}getElementByID(e){return this._Core.getElementByID(e)}getElementsByClassName(e){return this._Core.getElementsByClassName(e)}getElementsByTagName(e){return this._Core.getElementsByTagName(e)}getAllElements(){return this._Core.getAllElements()}load(e,t){this._Core.load(e,t)}remove(){this._Core.remove()}};return F.use(I),H=a,((n,s,a,l)=>{if(s&&"object"==typeof s||"function"==typeof s)for(let c of r(s))i.call(n,c)||c===a||e(n,c,{get:()=>s[c],enumerable:!(l=t(s,c))||l.enumerable});return n})(e({},"__esModule",{value:!0}),H)})().Light;